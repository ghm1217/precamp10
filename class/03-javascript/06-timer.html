<!DOCTYPE html>
<html lang="ko">
<head>
   
    <title>Document</title>
</head>
    <title>돔(DOM)조작하기</title>
    <script>
        let isStarted =false;

    </script>

<script>
    function getToken(){
        const compare = isStarted === false
            
        if(compare){
            isStarted=true;

        
            const token = String(Math.floor ( Math.random() *1000000 )).padStart(6, "0")
            document.getElementById("num").innerText=token;
            
            let time=180
            setInterval(function(){
                if(time>=0){
                    let min=String(Math.floor (time/60)).padStart(2,"0")
                    let sec=String(time % 60).padStart(2,"0")
                    
                    document.getElementById("count").innerText=`${min}:${sec}`
                    time=time-1
                }else{
                    document.getElementById("clear").disabled=true;
                    isStarted=false;
                }

            },1000)
        } else{
            alert('너 이미 실행했어')
        }
        }

    

</script>
<body>
    <h3 id="num">000000 </h3>
    <button onclick="getToken()">인증번호 전송</button>
    
    <h3 id="count">03:00</h3>
    <button id="clear">인증완료</button>
</body>


</html>